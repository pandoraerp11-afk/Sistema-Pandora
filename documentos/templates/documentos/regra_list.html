{% extends 'pandora_list_ultra_modern.html' %}
{% load i18n %}
{% block title %}{% trans 'Regras de Documentos' %}{% endblock %}
{% block page_title %}{% trans 'Regras de Documentos' %}{% endblock %}
{% block page_subtitle %}{{ entidade }}{% endblock %}

{% block list_header_actions %}
<a href="{% url 'documentos:regra_create' entidade_app_label entidade.pk %}" class="btn btn-success"><i class="fas fa-plus"></i> {% trans 'Nova Regra' %}</a>
{% endblock %}

{% block list_table %}
<table class="table table-hover align-middle">
  <thead>
    <tr>
      <th>{% trans 'Tipo' %}</th>
      <th>{% trans 'Aplicação' %}</th>
      <th>{% trans 'Periodicidade Efetiva' %}</th>
      <th>{% trans 'Exigência' %}</th>
      <th>{% trans 'Validade (dias)' %}</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for regra in regras %}
    <tr>
      <td>{{ regra.tipo.nome }}</td>
      <td>{{ regra.get_nivel_aplicacao_display }}</td>
      <td>{{ regra.periodicidade_efetiva }}</td>
      <td>{{ regra.get_exigencia_display }}</td>
      <td>{{ regra.validade_dias|default:'-' }}</td>
      <td class="text-end">
        <a href="{% url 'documentos:regra_edit' regra.pk %}" class="btn btn-sm btn-primary"><i class="fas fa-edit"></i></a>
        <a href="{% url 'documentos:regra_delete' regra.pk %}" class="btn btn-sm btn-danger" onclick="return confirm('Excluir regra?');"><i class="fas fa-trash"></i></a>
      </td>
    </tr>
    {% empty %}
    <tr><td colspan="6" class="text-center text-muted">{% trans 'Nenhuma regra definida.' %}</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
